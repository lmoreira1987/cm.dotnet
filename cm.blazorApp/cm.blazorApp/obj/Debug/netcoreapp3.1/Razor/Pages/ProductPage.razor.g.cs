#pragma checksum "C:\dev\cm.blazor\cm.blazorApp\cm.blazorApp\Pages\ProductPage.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "07ff267d760a20a599ffe8c37e8ec65df4bf754e"
// <auto-generated/>
#pragma warning disable 1591
namespace cm.blazorApp.Pages
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#line 1 "C:\dev\cm.blazor\cm.blazorApp\cm.blazorApp\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#line 2 "C:\dev\cm.blazor\cm.blazorApp\cm.blazorApp\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#line 3 "C:\dev\cm.blazor\cm.blazorApp\cm.blazorApp\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#line 4 "C:\dev\cm.blazor\cm.blazorApp\cm.blazorApp\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#line 5 "C:\dev\cm.blazor\cm.blazorApp\cm.blazorApp\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#line 6 "C:\dev\cm.blazor\cm.blazorApp\cm.blazorApp\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#line 7 "C:\dev\cm.blazor\cm.blazorApp\cm.blazorApp\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#line 8 "C:\dev\cm.blazor\cm.blazorApp\cm.blazorApp\_Imports.razor"
using cm.blazorApp;

#line default
#line hidden
#line 9 "C:\dev\cm.blazor\cm.blazorApp\cm.blazorApp\_Imports.razor"
using cm.blazorApp.Shared;

#line default
#line hidden
#line 2 "C:\dev\cm.blazor\cm.blazorApp\cm.blazorApp\Pages\ProductPage.razor"
using cm.blazorApp.Data;

#line default
#line hidden
#line 3 "C:\dev\cm.blazor\cm.blazorApp\cm.blazorApp\Pages\ProductPage.razor"
using cm.blazorApp.Services;

#line default
#line hidden
#line 4 "C:\dev\cm.blazor\cm.blazorApp\cm.blazorApp\Pages\ProductPage.razor"
using BlazorInputFile;

#line default
#line hidden
#line 5 "C:\dev\cm.blazor\cm.blazorApp\cm.blazorApp\Pages\ProductPage.razor"
using System.IO;

#line default
#line hidden
    [Microsoft.AspNetCore.Components.RouteAttribute("/product")]
    public partial class ProductPage : OwningComponentBase<ProductService>
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.OpenComponent<Microsoft.AspNetCore.Components.Authorization.AuthorizeView>(0);
            __builder.AddAttribute(1, "Authorized", (Microsoft.AspNetCore.Components.RenderFragment<Microsoft.AspNetCore.Components.Authorization.AuthenticationState>)((Auth) => (__builder2) => {
                __builder2.AddMarkupContent(2, "\r\n");
#line 11 "C:\dev\cm.blazor\cm.blazorApp\cm.blazorApp\Pages\ProductPage.razor"
         if (products == null)
        {

#line default
#line hidden
                __builder2.AddContent(3, "            ");
                __builder2.AddMarkupContent(4, "<p><em>Loading...</em></p>\r\n");
#line 14 "C:\dev\cm.blazor\cm.blazorApp\cm.blazorApp\Pages\ProductPage.razor"
        }
        else
        {

#line default
#line hidden
                __builder2.AddContent(5, "            ");
                __builder2.OpenElement(6, "div");
                __builder2.AddAttribute(7, "class", "container border p-3");
                __builder2.AddMarkupContent(8, "\r\n                ");
                __builder2.OpenElement(9, "div");
                __builder2.AddAttribute(10, "class", "row");
                __builder2.AddMarkupContent(11, "\r\n                    ");
                __builder2.AddMarkupContent(12, "<div class=\"col-5\">\r\n                        <h3 class=\"text-info\">Product List</h3>\r\n                    </div>\r\n                    ");
                __builder2.OpenElement(13, "div");
                __builder2.AddAttribute(14, "class", "col-3");
                __builder2.AddMarkupContent(15, "\r\n                        ");
                __builder2.OpenElement(16, "button");
                __builder2.AddAttribute(17, "class", "btn btn-info form-control");
                __builder2.AddAttribute(18, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#line 23 "C:\dev\cm.blazor\cm.blazorApp\cm.blazorApp\Pages\ProductPage.razor"
                                                                            AddNewProduct

#line default
#line hidden
                ));
                __builder2.AddMarkupContent(19, "\r\n                            Add New Product\r\n                        ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(20, "\r\n                    ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(21, "\r\n                ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(22, "\r\n\r\n                ");
                __builder2.OpenElement(23, "div");
                __builder2.AddAttribute(24, "class", "row pt-4");
                __builder2.AddMarkupContent(25, "\r\n                    ");
                __builder2.OpenElement(26, "table");
                __builder2.AddAttribute(27, "class", "table table-striped");
                __builder2.AddMarkupContent(28, "\r\n                        ");
                __builder2.AddMarkupContent(29, @"<thead>
                            <tr>
                                <th>Product Name</th>
                                <th>Price</th>
                                <th>Shade Color</th>
                                <th>Category</th>
                                <th></th>
                            </tr>
                        </thead>
                        ");
                __builder2.OpenElement(30, "tbody");
                __builder2.AddMarkupContent(31, "\r\n");
#line 41 "C:\dev\cm.blazor\cm.blazorApp\cm.blazorApp\Pages\ProductPage.razor"
                             foreach (var item in products)
                            {

#line default
#line hidden
                __builder2.AddContent(32, "                                ");
                __builder2.OpenElement(33, "tr");
                __builder2.AddMarkupContent(34, "\r\n                                    ");
                __builder2.OpenElement(35, "td");
                __builder2.AddContent(36, 
#line 44 "C:\dev\cm.blazor\cm.blazorApp\cm.blazorApp\Pages\ProductPage.razor"
                                         item.Name

#line default
#line hidden
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(37, "\r\n                                    ");
                __builder2.OpenElement(38, "td");
                __builder2.AddContent(39, 
#line 45 "C:\dev\cm.blazor\cm.blazorApp\cm.blazorApp\Pages\ProductPage.razor"
                                         item.Price

#line default
#line hidden
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(40, "\r\n                                    ");
                __builder2.OpenElement(41, "td");
                __builder2.AddContent(42, 
#line 46 "C:\dev\cm.blazor\cm.blazorApp\cm.blazorApp\Pages\ProductPage.razor"
                                         item.ShadeColor

#line default
#line hidden
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(43, "\r\n                                    ");
                __builder2.OpenElement(44, "td");
                __builder2.AddContent(45, 
#line 47 "C:\dev\cm.blazor\cm.blazorApp\cm.blazorApp\Pages\ProductPage.razor"
                                         item.Category.Name

#line default
#line hidden
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(46, "\r\n                                    ");
                __builder2.OpenElement(47, "td");
                __builder2.AddMarkupContent(48, "\r\n                                        ");
                __builder2.OpenElement(49, "button");
                __builder2.AddAttribute(50, "class", "btn btn-primary");
                __builder2.AddAttribute(51, "style", "width:150px;");
                __builder2.AddAttribute(52, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#line 49 "C:\dev\cm.blazor\cm.blazorApp\cm.blazorApp\Pages\ProductPage.razor"
                                                                                                       (()=>EditProduct(item))

#line default
#line hidden
                ));
                __builder2.AddContent(53, "Edit");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(54, "\r\n                                    ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(55, "\r\n                                ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(56, "\r\n");
#line 52 "C:\dev\cm.blazor\cm.blazorApp\cm.blazorApp\Pages\ProductPage.razor"
                            }

#line default
#line hidden
                __builder2.AddContent(57, "                        ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(58, "\r\n                    ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(59, "\r\n                ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(60, "\r\n            ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(61, "\r\n");
#line 57 "C:\dev\cm.blazor\cm.blazorApp\cm.blazorApp\Pages\ProductPage.razor"
        }

#line default
#line hidden
                __builder2.AddMarkupContent(62, "\r\n");
#line 59 "C:\dev\cm.blazor\cm.blazorApp\cm.blazorApp\Pages\ProductPage.razor"
         if (ShowPopup)
        {

#line default
#line hidden
                __builder2.AddContent(63, "            ");
                __builder2.OpenElement(64, "div");
                __builder2.AddAttribute(65, "class", "modal");
                __builder2.AddAttribute(66, "tabindex", "-1");
                __builder2.AddAttribute(67, "style", "display:block");
                __builder2.AddAttribute(68, "role", "dialog");
                __builder2.AddMarkupContent(69, "\r\n                ");
                __builder2.OpenComponent<Microsoft.AspNetCore.Components.Forms.EditForm>(70);
                __builder2.AddAttribute(71, "Model", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Object>(
#line 62 "C:\dev\cm.blazor\cm.blazorApp\cm.blazorApp\Pages\ProductPage.razor"
                                 product

#line default
#line hidden
                ));
                __builder2.AddAttribute(72, "OnValidSubmit", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<Microsoft.AspNetCore.Components.Forms.EditContext>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Forms.EditContext>(this, 
#line 62 "C:\dev\cm.blazor\cm.blazorApp\cm.blazorApp\Pages\ProductPage.razor"
                                                          ValidSubmit

#line default
#line hidden
                )));
                __builder2.AddAttribute(73, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment<Microsoft.AspNetCore.Components.Forms.EditContext>)((context) => (__builder3) => {
                    __builder3.AddMarkupContent(74, "\r\n                    ");
                    __builder3.OpenElement(75, "div");
                    __builder3.AddAttribute(76, "class", "modal-dialog");
                    __builder3.AddMarkupContent(77, "\r\n                        ");
                    __builder3.OpenElement(78, "div");
                    __builder3.AddAttribute(79, "class", "modal-content");
                    __builder3.AddMarkupContent(80, "\r\n                            ");
                    __builder3.OpenElement(81, "div");
                    __builder3.AddAttribute(82, "class", "modal-header");
                    __builder3.AddMarkupContent(83, "\r\n                                ");
                    __builder3.OpenElement(84, "h3");
                    __builder3.AddAttribute(85, "class", "text-info");
                    __builder3.AddContent(86, 
#line 66 "C:\dev\cm.blazor\cm.blazorApp\cm.blazorApp\Pages\ProductPage.razor"
                                                        product.Id != 0 ? "Update" : "Create"

#line default
#line hidden
                    );
                    __builder3.AddContent(87, " Product");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(88, "\r\n                                ");
                    __builder3.OpenElement(89, "button");
                    __builder3.AddAttribute(90, "type", "button");
                    __builder3.AddAttribute(91, "class", "close");
                    __builder3.AddAttribute(92, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#line 67 "C:\dev\cm.blazor\cm.blazorApp\cm.blazorApp\Pages\ProductPage.razor"
                                                                              ClosePopup

#line default
#line hidden
                    ));
                    __builder3.AddMarkupContent(93, "\r\n                                    ");
                    __builder3.AddMarkupContent(94, "<span aria-hidden=\"true\">X</span>\r\n                                ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(95, "\r\n                            ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(96, "\r\n                            ");
                    __builder3.OpenElement(97, "div");
                    __builder3.AddAttribute(98, "class", "modal-body");
                    __builder3.AddMarkupContent(99, "\r\n                                ");
                    __builder3.OpenComponent<Microsoft.AspNetCore.Components.Forms.DataAnnotationsValidator>(100);
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(101, "\r\n                                ");
                    __builder3.OpenElement(102, "div");
                    __builder3.AddAttribute(103, "class", "row");
                    __builder3.AddMarkupContent(104, "\r\n                                    ");
                    __builder3.OpenElement(105, "div");
                    __builder3.AddAttribute(106, "class", "col-9");
                    __builder3.AddMarkupContent(107, "\r\n                                        ");
                    __builder3.OpenElement(108, "div");
                    __builder3.AddAttribute(109, "class", "row py-2");
                    __builder3.AddMarkupContent(110, "\r\n                                            ");
                    __builder3.AddMarkupContent(111, "<div class=\"col-4\">\r\n                                                Category Name\r\n                                            </div>\r\n                                            ");
                    __builder3.OpenElement(112, "div");
                    __builder3.AddAttribute(113, "class", "col-8");
                    __builder3.AddMarkupContent(114, "\r\n                                                ");
                    __builder3.OpenElement(115, "select");
                    __builder3.AddAttribute(116, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.ChangeEventArgs>(this, 
#line 80 "C:\dev\cm.blazor\cm.blazorApp\cm.blazorApp\Pages\ProductPage.razor"
                                                                   CategorySelectionChange

#line default
#line hidden
                    ));
                    __builder3.AddAttribute(117, "class", "form-control");
                    __builder3.AddMarkupContent(118, "\r\n");
#line 81 "C:\dev\cm.blazor\cm.blazorApp\cm.blazorApp\Pages\ProductPage.razor"
                                                     foreach (var item in categories)
                                                    {

#line default
#line hidden
                    __builder3.AddContent(119, "                                                        ");
                    __builder3.OpenElement(120, "option");
                    __builder3.AddAttribute(121, "value", 
#line 83 "C:\dev\cm.blazor\cm.blazorApp\cm.blazorApp\Pages\ProductPage.razor"
                                                                        item.Id

#line default
#line hidden
                    );
                    __builder3.AddAttribute(122, "selected", 
#line 84 "C:\dev\cm.blazor\cm.blazorApp\cm.blazorApp\Pages\ProductPage.razor"
                                                                            item.Id == product.CategoryId ? true : false

#line default
#line hidden
                    );
                    __builder3.AddMarkupContent(123, "\r\n                                                            ");
                    __builder3.AddContent(124, 
#line 85 "C:\dev\cm.blazor\cm.blazorApp\cm.blazorApp\Pages\ProductPage.razor"
                                                             item.Name

#line default
#line hidden
                    );
                    __builder3.AddMarkupContent(125, "\r\n                                                        ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(126, "\r\n");
#line 87 "C:\dev\cm.blazor\cm.blazorApp\cm.blazorApp\Pages\ProductPage.razor"
                                                    }

#line default
#line hidden
                    __builder3.AddContent(127, "                                                ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(128, "\r\n                                            ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(129, "\r\n                                        ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(130, "\r\n                                        ");
                    __builder3.OpenElement(131, "div");
                    __builder3.AddAttribute(132, "class", "row py-2");
                    __builder3.AddMarkupContent(133, "\r\n                                            ");
                    __builder3.AddMarkupContent(134, "<div class=\"col-4\">\r\n                                                Product Name\r\n                                            </div>\r\n                                            ");
                    __builder3.OpenElement(135, "div");
                    __builder3.AddAttribute(136, "class", "col-8");
                    __builder3.AddMarkupContent(137, "\r\n                                                ");
                    __builder3.OpenComponent<Microsoft.AspNetCore.Components.Forms.InputText>(138);
                    __builder3.AddAttribute(139, "class", "form-control");
                    __builder3.AddAttribute(140, "Value", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#line 96 "C:\dev\cm.blazor\cm.blazorApp\cm.blazorApp\Pages\ProductPage.razor"
                                                                                             product.Name

#line default
#line hidden
                    ));
                    __builder3.AddAttribute(141, "ValueChanged", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<System.String>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<System.String>(this, Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.CreateInferredEventCallback(this, __value => product.Name = __value, product.Name))));
                    __builder3.AddAttribute(142, "ValueExpression", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Linq.Expressions.Expression<System.Func<System.String>>>(() => product.Name));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(143, "\r\n                                                ");
                    __Blazor.cm.blazorApp.Pages.ProductPage.TypeInference.CreateValidationMessage_0(__builder3, 144, 145, 
#line 97 "C:\dev\cm.blazor\cm.blazorApp\cm.blazorApp\Pages\ProductPage.razor"
                                                                          ()=>product.Name

#line default
#line hidden
                    );
                    __builder3.AddMarkupContent(146, "\r\n                                            ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(147, "\r\n                                        ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(148, "\r\n                                        ");
                    __builder3.OpenElement(149, "div");
                    __builder3.AddAttribute(150, "class", "row py-2");
                    __builder3.AddMarkupContent(151, "\r\n                                            ");
                    __builder3.AddMarkupContent(152, "<div class=\"col-4\">\r\n                                                Price\r\n                                            </div>\r\n                                            ");
                    __builder3.OpenElement(153, "div");
                    __builder3.AddAttribute(154, "class", "col-8");
                    __builder3.AddMarkupContent(155, "\r\n                                                ");
                    __builder3.OpenElement(156, "input");
                    __builder3.AddAttribute(157, "class", "form-control");
                    __builder3.AddAttribute(158, "type", "text");
                    __builder3.AddAttribute(159, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#line 105 "C:\dev\cm.blazor\cm.blazorApp\cm.blazorApp\Pages\ProductPage.razor"
                                                                                               product.Price

#line default
#line hidden
                    ));
                    __builder3.AddAttribute(160, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => product.Price = __value, product.Price));
                    __builder3.SetUpdatesAttributeName("value");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(161, "\r\n                                                ");
                    __Blazor.cm.blazorApp.Pages.ProductPage.TypeInference.CreateValidationMessage_1(__builder3, 162, 163, 
#line 106 "C:\dev\cm.blazor\cm.blazorApp\cm.blazorApp\Pages\ProductPage.razor"
                                                                          ()=>product.Price

#line default
#line hidden
                    );
                    __builder3.AddMarkupContent(164, "\r\n                                            ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(165, "\r\n                                        ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(166, "\r\n                                        ");
                    __builder3.OpenElement(167, "div");
                    __builder3.AddAttribute(168, "class", "row py-2");
                    __builder3.AddMarkupContent(169, "\r\n                                            ");
                    __builder3.AddMarkupContent(170, "<div class=\"col-4\">\r\n                                                Shade Color\r\n                                            </div>\r\n                                            ");
                    __builder3.OpenElement(171, "div");
                    __builder3.AddAttribute(172, "class", "col-8");
                    __builder3.AddMarkupContent(173, "\r\n                                                ");
                    __builder3.OpenElement(174, "input");
                    __builder3.AddAttribute(175, "class", "form-control");
                    __builder3.AddAttribute(176, "type", "text");
                    __builder3.AddAttribute(177, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#line 114 "C:\dev\cm.blazor\cm.blazorApp\cm.blazorApp\Pages\ProductPage.razor"
                                                                                               product.ShadeColor

#line default
#line hidden
                    ));
                    __builder3.AddAttribute(178, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => product.ShadeColor = __value, product.ShadeColor));
                    __builder3.SetUpdatesAttributeName("value");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(179, "\r\n                                                ");
                    __Blazor.cm.blazorApp.Pages.ProductPage.TypeInference.CreateValidationMessage_2(__builder3, 180, 181, 
#line 115 "C:\dev\cm.blazor\cm.blazorApp\cm.blazorApp\Pages\ProductPage.razor"
                                                                          ()=>product.ShadeColor

#line default
#line hidden
                    );
                    __builder3.AddMarkupContent(182, "\r\n                                            ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(183, "\r\n                                        ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(184, "\r\n                                        ");
                    __builder3.OpenElement(185, "div");
                    __builder3.AddAttribute(186, "class", "row py-2");
                    __builder3.AddMarkupContent(187, "\r\n                                            ");
                    __builder3.AddMarkupContent(188, "<div class=\"col-4\">\r\n                                                Image\r\n                                            </div>\r\n                                            ");
                    __builder3.OpenElement(189, "div");
                    __builder3.AddAttribute(190, "class", "col-8");
                    __builder3.AddMarkupContent(191, "\r\n                                                ");
                    __builder3.OpenComponent<BlazorInputFile.InputFile>(192);
                    __builder3.AddAttribute(193, "OnChange", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<BlazorInputFile.IFileListEntry[]>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<BlazorInputFile.IFileListEntry[]>(this, 
#line 123 "C:\dev\cm.blazor\cm.blazorApp\cm.blazorApp\Pages\ProductPage.razor"
                                                                     HandleSelection

#line default
#line hidden
                    )));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(194, "\r\n                                            ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(195, "\r\n                                        ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(196, "\r\n                                        ");
                    __builder3.OpenElement(197, "div");
                    __builder3.AddAttribute(198, "class", "row py-2");
                    __builder3.AddMarkupContent(199, "\r\n                                            ");
                    __builder3.AddMarkupContent(200, "<div class=\"offset-4 col\">\r\n                                                <button class=\"btn btn-primary form-control\" type=\"submit\">Submit</button>\r\n                                            </div>\r\n");
#line 130 "C:\dev\cm.blazor\cm.blazorApp\cm.blazorApp\Pages\ProductPage.razor"
                                             if (product.Id > 0)
                                            {

#line default
#line hidden
                    __builder3.AddContent(201, "                                                ");
                    __builder3.OpenElement(202, "div");
                    __builder3.AddAttribute(203, "class", "offset-4 col");
                    __builder3.AddMarkupContent(204, "\r\n                                                    ");
                    __builder3.OpenElement(205, "button");
                    __builder3.AddAttribute(206, "class", "btn btn-danger form-control");
                    __builder3.AddAttribute(207, "type", "submit");
                    __builder3.AddAttribute(208, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#line 133 "C:\dev\cm.blazor\cm.blazorApp\cm.blazorApp\Pages\ProductPage.razor"
                                                                                                                        DeleteProduct

#line default
#line hidden
                    ));
                    __builder3.AddContent(209, "Delete");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(210, "\r\n                                                ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(211, "\r\n");
#line 135 "C:\dev\cm.blazor\cm.blazorApp\cm.blazorApp\Pages\ProductPage.razor"
                                            }

#line default
#line hidden
                    __builder3.AddContent(212, "                                        ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(213, "\r\n                                    ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(214, "\r\n                                    ");
                    __builder3.OpenElement(215, "div");
                    __builder3.AddAttribute(216, "class", "col-3");
                    __builder3.AddMarkupContent(217, "\r\n                                        ");
                    __builder3.OpenElement(218, "img");
                    __builder3.AddAttribute(219, "src", 
#line 139 "C:\dev\cm.blazor\cm.blazorApp\cm.blazorApp\Pages\ProductPage.razor"
                                                   convertImageToDisplay(product.Image)

#line default
#line hidden
                    );
                    __builder3.AddAttribute(220, "width", "100%");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(221, "\r\n                                    ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(222, "\r\n                                ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(223, "\r\n                            ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(224, "\r\n                        ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(225, "\r\n                    ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(226, "\r\n                ");
                }
                ));
                __builder2.CloseComponent();
                __builder2.AddMarkupContent(227, "\r\n            ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(228, "\r\n");
#line 147 "C:\dev\cm.blazor\cm.blazorApp\cm.blazorApp\Pages\ProductPage.razor"
        }

#line default
#line hidden
                __builder2.AddContent(229, "    ");
            }
            ));
            __builder.AddAttribute(230, "NotAuthorized", (Microsoft.AspNetCore.Components.RenderFragment<Microsoft.AspNetCore.Components.Authorization.AuthenticationState>)((context) => (__builder2) => {
                __builder2.AddMarkupContent(231, "\r\n        ");
                __builder2.AddMarkupContent(232, "<p>You\'re not signed in.</p>\r\n    ");
            }
            ));
            __builder.CloseComponent();
        }
        #pragma warning restore 1998
#line 154 "C:\dev\cm.blazor\cm.blazorApp\cm.blazorApp\Pages\ProductPage.razor"
       
    List<Category> categories;
    List<Product> products;
    Product product = new Product();
    bool ShowPopup = false;
    public byte[] ImageUploaded { get; set; }

    protected override void OnInitialized()
    {
        products = Service.GetProducts();
    }

    void AddNewProduct()
    {
        product = new Product();
        categories = Service.GetCategoryList();
        product.CategoryId = categories.ToList()[0].Id;
        product.Id = 0;
        ShowPopup = true;
    }

    void EditProduct(Product product)
    {
        this.product = product;
        categories = Service.GetCategoryList();
        ShowPopup = true;
    }

    void DeleteProduct()
    {
        ShowPopup = false;
        var result = Service.DeleteProduct(product);
        products.Clear();
        products = Service.GetProducts();
    }

    void ClosePopup()
    {
        ShowPopup = false;
    }

    void ValidSubmit()
    {
        var result = false;
        ShowPopup = false;

        if (ImageUploaded != null)
        {
            product.Image = ImageUploaded;
            ImageUploaded = null;
        }

        if (product.Id > 0)
        {
            result = Service.UpdateProduct(product);
        }
        else
        {
            result = Service.CreateProduct(product);
        }

        products = Service.GetProducts();
    }

    async Task HandleSelection(IFileListEntry[] files)
    {
        var file = files.FirstOrDefault();
        if (file != null)
        {
            var ms = new MemoryStream();
            await file.Data.CopyToAsync(ms);
            ImageUploaded = ms.ToArray();
        }
    }

    string convertImageToDisplay(byte[] image)
    {
        if (image != null)
        {
            var base64 = Convert.ToBase64String(image);
            var finalStr = string.Format("data:image/jpg;base64,{0}", base64);
            return finalStr;
        }
        return "";
    }

    void CategorySelectionChange(ChangeEventArgs e)
    {
        if (int.TryParse(e.Value.ToString(), out int id))
        {
            product.CategoryId = id;
        }
    }

#line default
#line hidden
    }
}
namespace __Blazor.cm.blazorApp.Pages.ProductPage
{
    #line hidden
    internal static class TypeInference
    {
        public static void CreateValidationMessage_0<TValue>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.Linq.Expressions.Expression<global::System.Func<TValue>> __arg0)
        {
        __builder.OpenComponent<global::Microsoft.AspNetCore.Components.Forms.ValidationMessage<TValue>>(seq);
        __builder.AddAttribute(__seq0, "For", __arg0);
        __builder.CloseComponent();
        }
        public static void CreateValidationMessage_1<TValue>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.Linq.Expressions.Expression<global::System.Func<TValue>> __arg0)
        {
        __builder.OpenComponent<global::Microsoft.AspNetCore.Components.Forms.ValidationMessage<TValue>>(seq);
        __builder.AddAttribute(__seq0, "For", __arg0);
        __builder.CloseComponent();
        }
        public static void CreateValidationMessage_2<TValue>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.Linq.Expressions.Expression<global::System.Func<TValue>> __arg0)
        {
        __builder.OpenComponent<global::Microsoft.AspNetCore.Components.Forms.ValidationMessage<TValue>>(seq);
        __builder.AddAttribute(__seq0, "For", __arg0);
        __builder.CloseComponent();
        }
    }
}
#pragma warning restore 1591
